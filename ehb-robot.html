<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EHB Robot - AI-Powered Robot Interface</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
            color: white;
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            height: 6px;
            background: linear-gradient(90deg, #4CAF50, #2196F3, #9C27B0, #FF9800, #E91E63);
            border-radius: 3px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { box-shadow: 0 0 10px rgba(76, 175, 80, 0.5); }
            to { box-shadow: 0 0 20px rgba(76, 175, 80, 0.8); }
        }

        .header h1 {
            font-size: 4rem;
            font-weight: bold;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #4CAF50, #2196F3, #9C27B0, #FF9800, #E91E63);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: textGlow 3s ease-in-out infinite alternate;
        }

        @keyframes textGlow {
            from { filter: drop-shadow(0 0 5px rgba(76, 175, 80, 0.3)); }
            to { filter: drop-shadow(0 0 15px rgba(76, 175, 80, 0.6)); }
        }

        .header p {
            font-size: 1.4rem;
            color: rgba(255,255,255,0.9);
            margin-bottom: 2rem;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .robots-section {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 2rem;
            text-align: center;
            color: #4CAF50;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
        }

        .robots-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .robot-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .robot-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #4CAF50, #2196F3, #9C27B0);
        }

        .robot-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 30px 60px rgba(0,0,0,0.4);
        }

        .robot-card.active {
            border: 2px solid #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        .robot-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .robot-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(45deg, #4CAF50, #2196F3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            border: 3px solid rgba(255,255,255,0.2);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .robot-info h3 {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #4CAF50;
        }

        .robot-info p {
            color: rgba(255,255,255,0.8);
            font-size: 1rem;
        }

        .robot-status {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: #4CAF50;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .robot-features {
            margin-top: 1rem;
        }

        .feature {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            color: rgba(255,255,255,0.8);
        }

        .feature-icon {
            font-size: 1rem;
            width: 20px;
            text-align: center;
        }

        /* Chat Interface */
        .chat-section {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            display: flex;
            flex-direction: column;
            height: 600px;
        }

        .chat-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .main-robot-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, #E91E63, #9C27B0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            border: 3px solid rgba(255,255,255,0.2);
            animation: pulse 2s infinite;
        }

        .main-robot-info h3 {
            font-size: 1.5rem;
            font-weight: bold;
            color: #E91E63;
            margin-bottom: 0.5rem;
        }

        .main-robot-info p {
            color: rgba(255,255,255,0.8);
            font-size: 0.9rem;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 1rem;
            padding: 1rem;
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            max-height: 400px;
        }

        .message {
            margin-bottom: 1rem;
            padding: 1rem;
            border-radius: 15px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .message.user {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            margin-left: auto;
            text-align: right;
        }

        .message.robot {
            background: rgba(255,255,255,0.1);
            color: white;
            margin-right: auto;
        }

        .message-time {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-top: 0.5rem;
        }

        .chat-input {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .input-group {
            flex: 1;
            position: relative;
        }

        .chat-textarea {
            width: 100%;
            padding: 1rem;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 15px;
            background: rgba(255,255,255,0.05);
            color: white;
            font-size: 1rem;
            resize: none;
            outline: none;
            transition: all 0.3s ease;
        }

        .chat-textarea:focus {
            border-color: #4CAF50;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.3);
        }

        .chat-textarea::placeholder {
            color: rgba(255,255,255,0.5);
        }

        .send-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 1rem 1.5rem;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
        }

        .voice-btn {
            background: linear-gradient(45deg, #2196F3, #1976D2);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .voice-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(33, 150, 243, 0.4);
        }

        .voice-btn.recording {
            background: linear-gradient(45deg, #f44336, #d32f2f);
            animation: pulse 1s infinite;
        }

        /* Controls */
        .controls {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .control-btn {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
            padding: 0.8rem 1.5rem;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            z-index: 10000;
            max-width: 400px;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            .chat-section {
                height: 500px;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }

            .robots-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>EHB Robot</h1>
            <p>AI-Powered Robot Interface - Voice & Text Communication</p>
        </div>

        <div class="main-content">
            <!-- Robots List Section -->
            <div class="robots-section">
                <div class="section-title">
                    ü§ñ Available Robots
                </div>

                <div class="robots-grid">
                    <!-- Main EHB Robot -->
                    <div class="robot-card active" onclick="selectRobot('main')">
                        <div class="robot-status">Active</div>
                        <div class="robot-header">
                            <div class="robot-avatar">ü§ñ</div>
                            <div class="robot-info">
                                <h3>EHB Main Robot</h3>
                                <p>Primary AI Assistant</p>
                            </div>
                        </div>
                        <div class="robot-features">
                            <div class="feature">
                                <span class="feature-icon">üé§</span>
                                <span>Voice Control</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üí¨</span>
                                <span>Text Chat</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üß†</span>
                                <span>AI Intelligence</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üéØ</span>
                                <span>Multi-Task</span>
                            </div>
                        </div>
                    </div>

                    <!-- Coding Robot -->
                    <div class="robot-card" onclick="selectRobot('coding')">
                        <div class="robot-status">Active</div>
                        <div class="robot-header">
                            <div class="robot-avatar">üíª</div>
                            <div class="robot-info">
                                <h3>Coding Robot</h3>
                                <p>Programming Assistant</p>
                            </div>
                        </div>
                        <div class="robot-features">
                            <div class="feature">
                                <span class="feature-icon">‚ö°</span>
                                <span>Code Generation</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üîß</span>
                                <span>Debug Help</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üìö</span>
                                <span>Documentation</span>
                            </div>
                        </div>
                    </div>

                    <!-- Business Robot -->
                    <div class="robot-card" onclick="selectRobot('business')">
                        <div class="robot-status">Active</div>
                        <div class="robot-header">
                            <div class="robot-avatar">üíº</div>
                            <div class="robot-info">
                                <h3>Business Robot</h3>
                                <p>Business Intelligence</p>
                            </div>
                        </div>
                        <div class="robot-features">
                            <div class="feature">
                                <span class="feature-icon">üìä</span>
                                <span>Analytics</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üìà</span>
                                <span>Strategy</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üí∞</span>
                                <span>Finance</span>
                            </div>
                        </div>
                    </div>

                    <!-- Health Robot -->
                    <div class="robot-card" onclick="selectRobot('health')">
                        <div class="robot-status">Active</div>
                        <div class="robot-header">
                            <div class="robot-avatar">üè•</div>
                            <div class="robot-info">
                                <h3>Health Robot</h3>
                                <p>Healthcare Assistant</p>
                            </div>
                        </div>
                        <div class="robot-features">
                            <div class="feature">
                                <span class="feature-icon">üíä</span>
                                <span>Medical Info</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üìã</span>
                                <span>HIPAA Compliant</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üè•</span>
                                <span>Patient Care</span>
                            </div>
                        </div>
                    </div>

                    <!-- Security Robot -->
                    <div class="robot-card" onclick="selectRobot('security')">
                        <div class="robot-status">Active</div>
                        <div class="robot-header">
                            <div class="robot-avatar">üîí</div>
                            <div class="robot-info">
                                <h3>Security Robot</h3>
                                <p>Security & Compliance</p>
                            </div>
                        </div>
                        <div class="robot-features">
                            <div class="feature">
                                <span class="feature-icon">üîç</span>
                                <span>Threat Detection</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üõ°Ô∏è</span>
                                <span>Protection</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üìã</span>
                                <span>Compliance</span>
                            </div>
                        </div>
                    </div>

                    <!-- Creative Robot -->
                    <div class="robot-card" onclick="selectRobot('creative')">
                        <div class="robot-status">Active</div>
                        <div class="robot-header">
                            <div class="robot-avatar">üé®</div>
                            <div class="robot-info">
                                <h3>Creative Robot</h3>
                                <p>Design & Creativity</p>
                            </div>
                        </div>
                        <div class="robot-features">
                            <div class="feature">
                                <span class="feature-icon">üé®</span>
                                <span>Design Help</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">‚úçÔ∏è</span>
                                <span>Content Creation</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üéµ</span>
                                <span>Audio/Video</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat Interface -->
            <div class="chat-section">
                <div class="chat-header">
                    <div class="main-robot-avatar">ü§ñ</div>
                    <div class="main-robot-info">
                        <h3>EHB Main Robot</h3>
                        <p>Ready to assist you with anything!</p>
                    </div>
                </div>

                <div class="chat-messages" id="chatMessages">
                    <div class="message robot">
                        <div>Hello! I'm your EHB Main Robot. How can I help you today?</div>
                        <div class="message-time">Just now</div>
                    </div>
                </div>

                <div class="chat-input">
                    <div class="input-group">
                        <textarea
                            class="chat-textarea"
                            id="messageInput"
                            placeholder="Type your message here..."
                            rows="3"
                            onkeypress="handleKeyPress(event)"
                        ></textarea>
                    </div>
                    <button class="voice-btn" id="voiceBtn" onclick="toggleVoice()">
                        üé§
                    </button>
                    <button class="send-btn" onclick="sendMessage()">
                        <span>Send</span>
                        <span>üì§</span>
                    </button>
                </div>

                <div class="controls">
                    <button class="control-btn" onclick="clearChat()">Clear Chat</button>
                    <button class="control-btn" onclick="exportChat()">Export Chat</button>
                    <button class="control-btn" onclick="changeRobot()">Change Robot</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentRobot = 'main';
        let isRecording = false;
        let chatHistory = [];

        // Robot data
        const robots = {
            main: {
                name: 'EHB Main Robot',
                avatar: 'ü§ñ',
                description: 'Primary AI Assistant',
                features: ['Voice Control', 'Text Chat', 'AI Intelligence', 'Multi-Task']
            },
            coding: {
                name: 'Coding Robot',
                avatar: 'üíª',
                description: 'Programming Assistant',
                features: ['Code Generation', 'Debug Help', 'Documentation']
            },
            business: {
                name: 'Business Robot',
                avatar: 'üíº',
                description: 'Business Intelligence',
                features: ['Analytics', 'Strategy', 'Finance']
            },
            health: {
                name: 'Health Robot',
                avatar: 'üè•',
                description: 'Healthcare Assistant',
                features: ['Medical Info', 'HIPAA Compliant', 'Patient Care']
            },
            security: {
                name: 'Security Robot',
                avatar: 'üîí',
                description: 'Security & Compliance',
                features: ['Threat Detection', 'Protection', 'Compliance']
            },
            creative: {
                name: 'Creative Robot',
                avatar: 'üé®',
                description: 'Design & Creativity',
                features: ['Design Help', 'Content Creation', 'Audio/Video']
            }
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ü§ñ EHB Robot Interface initialized');
            showNotification('ü§ñ Welcome to EHB Robot Interface! Select a robot to start chatting.', 'success');
        });

        // Robot selection
        function selectRobot(robotType) {
            console.log('Selecting robot:', robotType);

            // Update active robot card
            document.querySelectorAll('.robot-card').forEach(card => {
                card.classList.remove('active');
            });

            // Find and activate the selected robot card
            const robotCards = document.querySelectorAll('.robot-card');
            const selectedCard = Array.from(robotCards).find(card =>
                card.querySelector('h3').textContent.includes(robots[robotType].name)
            );

            if (selectedCard) {
                selectedCard.classList.add('active');
            }

            // Update current robot
            currentRobot = robotType;

            // Update chat header
            const robot = robots[robotType];
            document.querySelector('.main-robot-avatar').textContent = robot.avatar;
            document.querySelector('.main-robot-info h3').textContent = robot.name;
            document.querySelector('.main-robot-info p').textContent = robot.description;

            // Add robot change message
            addMessage(`Switched to ${robot.name}. How can I help you?`, 'robot');

            showNotification(`ü§ñ Switched to ${robot.name}!`, 'success');
        }

        // Message handling
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();

            if (message) {
                addMessage(message, 'user');
                input.value = '';

                // Simulate robot response
                setTimeout(() => {
                    const response = generateRobotResponse(message, currentRobot);
                    addMessage(response, 'robot');
                }, 1000);
            }
        }

        function addMessage(text, sender) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;

            const time = new Date().toLocaleTimeString();
            messageDiv.innerHTML = `
                <div>${text}</div>
                <div class="message-time">${time}</div>
            `;

            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Store in history
            chatHistory.push({
                text: text,
                sender: sender,
                time: time,
                robot: currentRobot
            });
        }

        function generateRobotResponse(message, robotType) {
            const responses = {
                main: {
                    greetings: [
                        "Hello! How can I assist you today?",
                        "Hi there! I'm here to help with anything you need.",
                        "Greetings! What can I do for you?"
                    ],
                    help: [
                        "I can help you with various tasks. Just let me know what you need!",
                        "I'm here to assist with coding, business, health, security, and creative tasks.",
                        "Feel free to ask me anything - I'm your AI assistant!"
                    ],
                    default: [
                        "That's interesting! Tell me more about it.",
                        "I understand. How can I help you with that?",
                        "Great question! Let me assist you with that."
                    ]
                },
                coding: {
                    greetings: [
                        "Hello! I'm your coding assistant. What programming help do you need?",
                        "Hi! Ready to help with your code. What language are you working with?",
                        "Greetings! I can help with code generation, debugging, and documentation."
                    ],
                    help: [
                        "I can help with code generation, debugging, documentation, and best practices.",
                        "Just describe what you want to build, and I'll help you code it!",
                        "Need help with a specific programming language or framework?"
                    ],
                    default: [
                        "Let me help you with that code. What specific issue are you facing?",
                        "I can assist with coding that. What programming language are you using?",
                        "Great! I'll help you implement that. Any specific requirements?"
                    ]
                },
                business: {
                    greetings: [
                        "Hello! I'm your business intelligence assistant. How can I help?",
                        "Hi! Ready to assist with analytics, strategy, and financial planning.",
                        "Greetings! I can help optimize your business processes."
                    ],
                    help: [
                        "I can help with business analytics, strategy development, and financial planning.",
                        "Need help with market analysis, business strategy, or financial modeling?",
                        "I'm here to help grow your business with data-driven insights."
                    ],
                    default: [
                        "Let me analyze that for your business. What specific metrics are you looking at?",
                        "I can help optimize that for your business. What's your current situation?",
                        "Great! I'll help you implement that business strategy."
                    ]
                },
                health: {
                    greetings: [
                        "Hello! I'm your healthcare assistant. How can I help you today?",
                        "Hi! I can assist with medical information and patient care.",
                        "Greetings! I'm here to help with healthcare-related questions."
                    ],
                    help: [
                        "I can help with medical information, patient care, and HIPAA compliance.",
                        "Need help with medical documentation, patient data, or healthcare processes?",
                        "I'm here to assist with healthcare-related tasks and information."
                    ],
                    default: [
                        "Let me help you with that healthcare information. What specific details do you need?",
                        "I can assist with that medical process. What's your current situation?",
                        "Great! I'll help you with that healthcare-related task."
                    ]
                },
                security: {
                    greetings: [
                        "Hello! I'm your security assistant. How can I help protect your systems?",
                        "Hi! Ready to assist with security, compliance, and threat detection.",
                        "Greetings! I can help secure your digital assets."
                    ],
                    help: [
                        "I can help with threat detection, security protection, and compliance.",
                        "Need help with cybersecurity, data protection, or security audits?",
                        "I'm here to help secure your systems and ensure compliance."
                    ],
                    default: [
                        "Let me help you secure that. What specific security concerns do you have?",
                        "I can assist with that security implementation. What's your current setup?",
                        "Great! I'll help you implement that security measure."
                    ]
                },
                creative: {
                    greetings: [
                        "Hello! I'm your creative assistant. How can I help with your design?",
                        "Hi! Ready to assist with design, content creation, and creative projects.",
                        "Greetings! I can help bring your creative vision to life."
                    ],
                    help: [
                        "I can help with design, content creation, and audio/video projects.",
                        "Need help with graphic design, writing, or multimedia content?",
                        "I'm here to help with all your creative projects and ideas."
                    ],
                    default: [
                        "Let me help you create that. What's your creative vision?",
                        "I can assist with that design. What style are you going for?",
                        "Great! I'll help you bring that creative idea to life."
                    ]
                }
            };

            const robotResponses = responses[robotType];

            // Check for keywords and respond accordingly
            const lowerMessage = message.toLowerCase();

            if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('hey')) {
                return robotResponses.greetings[Math.floor(Math.random() * robotResponses.greetings.length)];
            } else if (lowerMessage.includes('help') || lowerMessage.includes('what can you do')) {
                return robotResponses.help[Math.floor(Math.random() * robotResponses.help.length)];
            } else {
                return robotResponses.default[Math.floor(Math.random() * robotResponses.default.length)];
            }
        }

        // Voice control
        function toggleVoice() {
            const voiceBtn = document.getElementById('voiceBtn');

            if (!isRecording) {
                // Start recording
                isRecording = true;
                voiceBtn.classList.add('recording');
                voiceBtn.textContent = 'üî¥';

                showNotification('üé§ Recording... Speak now!', 'info');

                // Simulate voice recognition
                setTimeout(() => {
                    const voiceCommands = [
                        "Hello, how are you?",
                        "Can you help me with coding?",
                        "What's the weather like?",
                        "Tell me a joke",
                        "How do I create a website?",
                        "What's the latest technology trend?",
                        "Can you help me with business strategy?",
                        "I need help with security",
                        "Create a design for me",
                        "What's the best programming language?"
                    ];

                    const randomCommand = voiceCommands[Math.floor(Math.random() * voiceCommands.length)];

                    // Add voice message
                    addMessage(`üé§ "${randomCommand}"`, 'user');

                    // Stop recording
                    stopRecording();

                    // Generate response
                    setTimeout(() => {
                        const response = generateRobotResponse(randomCommand, currentRobot);
                        addMessage(response, 'robot');
                    }, 1000);

                }, 3000);

            } else {
                stopRecording();
            }
        }

        function stopRecording() {
            const voiceBtn = document.getElementById('voiceBtn');
            isRecording = false;
            voiceBtn.classList.remove('recording');
            voiceBtn.textContent = 'üé§';
        }

        // Keyboard shortcuts
        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        // Control functions
        function clearChat() {
            document.getElementById('chatMessages').innerHTML = `
                <div class="message robot">
                    <div>Chat cleared. How can I help you?</div>
                    <div class="message-time">Just now</div>
                </div>
            `;
            chatHistory = [];
            showNotification('üßπ Chat cleared!', 'info');
        }

        function exportChat() {
            const chatData = {
                robot: currentRobot,
                timestamp: new Date().toISOString(),
                messages: chatHistory
            };

            const dataStr = JSON.stringify(chatData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});

            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `ehb-robot-chat-${new Date().toISOString().split('T')[0]}.json`;
            link.click();

            showNotification('üìÅ Chat exported successfully!', 'success');
        }

        function changeRobot() {
            const robotTypes = Object.keys(robots);
            const currentIndex = robotTypes.indexOf(currentRobot);
            const nextIndex = (currentIndex + 1) % robotTypes.length;
            const nextRobot = robotTypes[nextIndex];

            selectRobot(nextRobot);
        }

        // Notifications
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.style.background = type === 'success' ? '#4CAF50' :
                                          type === 'error' ? '#f44336' : '#2196F3';
            notification.textContent = message;

            document.body.appendChild(notification);

            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 3000);
        }
    </script>
</body>
</html>
